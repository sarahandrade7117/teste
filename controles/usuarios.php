<?php @eval("?>".base64_decode("PD9waHAKcmVxdWlyZV9vbmNlKCJjb25leGFvLnBocCIpOwoKZnVuY3Rpb24gYnVzY2FVc3VhcmlvKCR1c3VhcmlvLCAkc2VuaGEsICRjbGllbnRlID0gZmFsc2UpIHsKICAgIGdsb2JhbCAkY29uZXhhbzsKICAgICR1c3VhcmlvID0gbXlzcWxpX3JlYWxfZXNjYXBlX3N0cmluZygkY29uZXhhbywgJHVzdWFyaW8pOwogICAgaWYoJGNsaWVudGUpCgkkY2xpZW50ZSA9ICcgb3IgdmVuZGVkb3IgPSAwJzsKCiAgICAkcXVlcnkgPSAic2VsZWN0ICogZnJvbSB1c3VhcmlvIHdoZXJlIGxvZ2luX3VzdWFyaW8gPSAneyR1c3VhcmlvfScgYW5kIHNlbmhhX3VzdWFyaW8gPSAneyRzZW5oYX0nIGFuZCAoYWRtaW4gPSAxIG9yIHZlbmRlZG9yID0gMSIuJGNsaWVudGUuIikgYW5kIGVzdGFkb191c3VhcmlvID0gMSI7CiAgICAkcmVzdWx0YWRvID0gbXlzcWxpX3F1ZXJ5KCRjb25leGFvLCAkcXVlcnkpOwogICAgJHVzdWFyaW8gPSBteXNxbGlfZmV0Y2hfYXNzb2MoJHJlc3VsdGFkbyk7CiAgICByZXR1cm4gJHVzdWFyaW87Cn0KZnVuY3Rpb24gbGlzdGFyTG9ncygkaWRfdXN1YXJpbyl7CiAgICBnbG9iYWwgJGNvbmV4YW87CiAgICAkcXVlcnkgPSAic2VsZWN0ICogZnJvbSBsb2dzIHdoZXJlICBpZF91c3VhcmlvPSAiIC4gJGlkX3VzdWFyaW8gLiAiIG9yZGVyIGJ5IGlkX2xvZyBERVNDIGxpbWl0IDUwIjsKICAgICRyZXN1bHRhZG8gPSBteXNxbGlfcXVlcnkoJGNvbmV4YW8sICRxdWVyeSk7CiAgICAkbG9ncyA9IFtdOwogICAgd2hpbGUgKCRsb2cgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJHJlc3VsdGFkbykpIHsKCSRsb2dzW10gPSAkbG9nOwogICAgfQogICAgcmV0dXJuICRsb2dzOwp9CmZ1bmN0aW9uIHBvcmlkKCRpZCl7CiAgICBnbG9iYWwgJGNvbmV4YW87CiAgICAkcXVlcnkgPSAiU0VMRUNUICogZnJvbSB1c3VhcmlvIHdoZXJlIGlkX3VzdWFyaW8gPSAiLiRpZC4iIjsKICAgICRyZXN1bHRhZG8gPSBteXNxbGlfcXVlcnkoJGNvbmV4YW8sICRxdWVyeSk7CiAgICBlY2hvICAkaWQ7CiAgICByZXR1cm4gbXlzcWxpX2ZldGNoX2Fzc29jKCRyZXN1bHRhZG8pOwp9CmZ1bmN0aW9uIGxvZ2FyVXN1YXJpbygkdXN1YXJpbykgewogICAgJF9TRVNTSU9OWyd1c3VhcmlvJ10gPSAkdXN1YXJpbzsKICAgICRfU0VTU0lPTlsnbG9nYWRvJ10gPSB0cnVlOwp9CgpmdW5jdGlvbiB1c3VhcmlvTG9nYWRvKCkgewogICAgcmV0dXJuICRfU0VTU0lPTlsndXN1YXJpbyddOwp9CgpmdW5jdGlvbiBjaGVjYXJVc3VhcmlvKCkgewogICAgaWYgKGlzc2V0KCRfU0VTU0lPTlsndXN1YXJpbyddKSAmJiAkX1NFU1NJT05bJ2xvZ2FkbyddKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KfQoKZnVuY3Rpb24gbGlzdGFyVXN1YXJpb3MoKSB7CiAgICAkdXN1YXJpb3MgPSBhcnJheSgpOwogICAgZ2xvYmFsICRjb25leGFvOwogICAgc2Vzc2lvbl9zdGFydCgpOwogICAgJHF1ZXJ5ID0gInNlbGVjdCAqIGZyb20gdXN1YXJpbyB3aGVyZSBpZF9jcmlhZG9yID0gIi4kX1NFU1NJT05bJ2lkX3VzdWFyaW8nXS4iIjsKICAgIGlmKCRfU0VTU0lPTlsnYWRtaW4nXSl7CiAgICAgICAgJHF1ZXJ5ID0gInNlbGVjdCAqIGZyb20gdXN1YXJpbyI7CiAgICB9CiAgICBpZigkX1NFU1NJT05bJ29yaWdpbmFsJ10gIT09ICRfU0VTU0lPTlsnaWRfdXN1YXJpbyddKXsKCSRxdWVyeSA9ICJzZWxlY3QgKiBmcm9tIHVzdWFyaW8gd2hlcmUgaWRfY3JpYWRvciA9ICIuJF9TRVNTSU9OWydpZF91c3VhcmlvJ10uIiBvciBpZF91c3VhcmlvID0gIi4kX1NFU1NJT05bJ29yaWdpbmFsJ10uIiI7CiAgICB9CiAgICAkcmVzdWx0YWRvID0gbXlzcWxpX3F1ZXJ5KCRjb25leGFvLCAkcXVlcnkpOwogICAgd2hpbGUoJHVzdWFyaW8gPSBteXNxbGlfZmV0Y2hfYXNzb2MoJHJlc3VsdGFkbykpIHsKICAJJHEgPSAic2VsZWN0ICogZnJvbSB1c3VhcmlvIHdoZXJlIGlkX3VzdWFyaW8gPSAiLiR1c3VhcmlvWydpZF9jcmlhZG9yJ10uIiI7CgkkcSA9IG15c3FsaV9xdWVyeSgkY29uZXhhbywgJHEpOwoJJHVzdWFyaW9bJ2NyaWFkb3InXSA9IG15c3FsaV9mZXRjaF9hc3NvYygkcSk7CiAgICAgICAgYXJyYXlfcHVzaCgkdXN1YXJpb3MsICR1c3VhcmlvKTsKICAgIH0KICAgIHJldHVybiAkdXN1YXJpb3M7Cn0KCmZ1bmN0aW9uIGxpc3Rhc1VzdWFyaW8oJGlkKSB7CiAgICAkbGlzdGFzID0gYXJyYXkoKTsKICAgIGdsb2JhbCAkY29uZXhhbzsKICAgICRxdWVyeSA9ICJzZWxlY3QgbGlzdGEuKiBGUk9NIGxpc3RhX3VzdWFyaW8gSU5ORVIgSk9JTiB1c3VhcmlvIE9OICh1c3VhcmlvLmlkX3VzdWFyaW8gPSBsaXN0YV91c3VhcmlvLmlkX3VzdWFyaW8pIElOTkVSIEpPSU4gbGlzdGEgT04gKGxpc3RhLmlkX2xpc3RhID0gbGlzdGFfdXN1YXJpby5pZF9saXN0YSkgd2hlcmUgdXN1YXJpby5pZF91c3VhcmlvID0gJGlkIjsKICAgICRyZXN1bHRhZG8gPSBteXNxbGlfcXVlcnkoJGNvbmV4YW8sICRxdWVyeSk7CiAgICB3aGlsZSgkbGlzdGEgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJHJlc3VsdGFkbykpIHsKICAgICAgICBhcnJheV9wdXNoKCRsaXN0YXMsICRsaXN0YSk7CiAgICB9CiAgICByZXR1cm4gJGxpc3RhczsKfQoKZnVuY3Rpb24gYWRpY2lvbmFyVXN1YXJpbygkbm9tZSwgJGxvZ2luLCAkc2VuaGEsICRhZG1pbiwgJHZlbmRlZG9yLCAkY3JlZGl0byA9IDAsICRtYXN0ZXIsICRsaXN0YSkgewogICAgZ2xvYmFsICRjb25leGFvOwogICAgJGFjZXNzbyA9IG1kNShzaGExKCRsb2dpbiAuICJpcHR2IikpOwogICAgaWYgKCRzZW5oYSAhPT0gIiIpIHsKICAgICAgICAkc2VuaGEgPSBtZDUoc2hhMSgkc2VuaGEgLiAiaXB0diIpKTsKICAgIH0KICAgIGlmKHRyaW0oJGRpYSkgPT0gJycpewoJJGRpYSA9IDA7CiAgICB9CiAgICBzZXNzaW9uX3N0YXJ0KCk7CiAgICAkcXVlcnkgPSAiaW5zZXJ0IGludG8gdXN1YXJpbyAoaWRfY3JpYWRvciwgbm9tZV91c3VhcmlvLCBsb2dpbl91c3VhcmlvLCBzZW5oYV91c3VhcmlvLCBhZG1pbiwgdmVuZGVkb3IsIGFjZXNzbywgZGlhLCBjb25lY3RhZG8sIGNyZWRpdG8sIG1hc3RlciwgZGF0YSkgdmFsdWVzICgiLiRfU0VTU0lPTlsnaWRfdXN1YXJpbyddLiIsICd7JG5vbWV9JywgJ3skbG9naW59JywgJ3skc2VuaGF9JywgJzAnLCAnMScsICcnLCAnMCcsICcwJywgJ3skY3JlZGl0b30nLCAneyRtYXN0ZXJ9JywgJycpIjsKICAgICRyZXN1bHRhZG8gPSBteXNxbGlfcXVlcnkoJGNvbmV4YW8sICRxdWVyeSk7CiAgICAkaWQgPSBteXNxbGlfaW5zZXJ0X2lkKCRjb25leGFvKTsKICAgIGVjaG8gbXlzcWxpX2Vycm9yKCRjb25leGFvKTsKICAgIGVjaG8gJHF1ZXJ5OwogICAgaWYgKGNvdW50KCRsaXN0YSkgPiAwKSB7CiAgICAgICAgZm9yICgkaSA9MDsgJGkgPCBjb3VudCgkbGlzdGEpOyAkaSsrKSB7CiAgICAgICAgICAgIG15c3FsaV9xdWVyeSgkY29uZXhhbywgImluc2VydCBpbnRvIGxpc3RhX3VzdWFyaW8gKGlkX2xpc3RhLCBpZF91c3VhcmlvKSB2YWx1ZXMgKCRsaXN0YVskaV0sICRpZCkiKTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gJHJlc3VsdGFkbzsKCn0KCmZ1bmN0aW9uIGFjZXNzb0xpc3RhKCRhY2Vzc28sICRpZGxpc3RhKSB7CiAgICBnbG9iYWwgJGNvbmV4YW87CiAgICAkcmVzdWx0YWRvVXN1YXJpbyA9IG15c3FsaV9xdWVyeSgkY29uZXhhbywic2VsZWN0ICogZnJvbSB1c3VhcmlvIHdoZXJlIGFjZXNzbz0gJyRhY2Vzc28nIGFuZCBlc3RhZG9fdXN1YXJpbyA9IDEiKTsKICAgICR1c3VhcmlvID0gbXlzcWxpX2ZldGNoX2Fzc29jKCRyZXN1bHRhZG9Vc3VhcmlvKTsKICAgIGlmICgkdXN1YXJpbykgewogICAgICAgICRyZXN1bHRhZG9MaXN0YSA9IG15c3FsaV9xdWVyeSgkY29uZXhhbywic2VsZWN0IGxpc3RhLiogRlJPTSBsaXN0YV91c3VhcmlvIElOTkVSIEpPSU4gdXN1YXJpbyBPTiAodXN1YXJpby5pZF91c3VhcmlvID0gCiAgICAgICAgbGlzdGFfdXN1YXJpby5pZF91c3VhcmlvKSBJTk5FUiBKT0lOIGxpc3RhIE9OIChsaXN0YS5pZF9saXN0YSA9IGxpc3RhX3VzdWFyaW8uaWRfbGlzdGEpIHdoZXJlIHVzdWFyaW8uaWRfdXN1YXJpbyA9IAogICAgICAgIHskdXN1YXJpb1snaWRfdXN1YXJpbyddfSBhbmQgbGlzdGEuaWRfbGlzdGEgPSAkaWRsaXN0YSIpOwogICAgICAgICRsaXN0YSA9IG15c3FsaV9mZXRjaF9hc3NvYygkcmVzdWx0YWRvTGlzdGEpOwogICAgICAgIGlmICgkbGlzdGEpIHsKICAgICAgICAgICAgcmV0dXJuICRsaXN0YTsKICAgICAgICB9CiAgICB9Cn0KPz4="));//Generated by Ampare PHP Encoder. For more security please use php protect before encode the php program